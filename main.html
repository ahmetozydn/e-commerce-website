<!DOCTYPE html>
<html>

<head>
  <title>WEB WORKSPACE </title>
  <link rel="icon" type="image/x-icon" href="https://www.seiu1000.org/sites/main/files/main-images/camera_lense_0.jpeg">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  <link rel="stylesheet" href="home.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />


  <style>


  </style>

  <div class="no-padding">
    <ul class="nav" style="padding: 20px; margin: 0;">
      <span class="icon">
        <i class="fas fa-home"></i>
      </span>

      <span class="website-name">
        <h2 style="display: inline; color: #f0900a;">Shopie</h2>
      </span> <!-- Website Name -->
      <a class="no-strike" href="demo.html">Home</a>
      <a class="no-strike" href="electronic.html">Electronic</a>
      <a class="no-strike" href="productDetails.html">Clothing</a>
      <a class="no-strike" href="#">Sport</a>
      <a class="no-strike" href="#">Home&Decoration</a>
      <a class="no-strike" href="temp.html">.temp</a>
      <i class="fa-regular fa-lightbulb custom-cursor" onclick="changeContent(this)" style="transform: scale(1.5);"></i>

    </ul>
  </div>


</head>
<div class="main-container">

  <body>

    <div class="slideshow-container">

      <!-- Full-width images with number and caption text -->
      <div class="mySlides fade">
        <div class="numbertext">1 / 3</div>
        <img src="./images/image2.png" style="width:100%">
        <div class="text">Caption Text</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">2 / 3</div>
        <img src="./images/image3.png" style="width:100%">
        <div class="text">Caption Two</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">3 / 3</div>
        <img src="./images/image1.png" style="width:100%">
        <div class="text">Caption Three</div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>
    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <span class="dot" onclick="currentSlide(3)"></span>
    </div>


    <div id="main-card-container" class="card">
      <h2 style="padding: 0; margin: 0px;">Clothes</h2>
      <br>

    </div>




</div>



<div id="footer-placeholder"></div>















<!-- The dots/circles -->

<script>
  <!-- src = "server.js"-->

  //const container = document.getElementById('json-container');
  // Fetch the JSON file
  fetch('./data/products.json')
    .then(response => response.json())
    .then(data => {
      // Get the container element


      //const eachJSON = JSON.parse(data);
      //let x = JSON.stringify(eachJSON,null,2)

      // Loop through the attributes of the JSON object

      for (let key in data) {
        /*  const paragraph = document.createElement('p');
         paragraph.textContent = '${eachJSON.name}';
        container.appendChild(paragraph); */
        console.log(data[key].name);
        //document.getElementById('name').textContent = data[key].name;
        //document.getElementById('description').textContent = data[key].price;
        //container.appendChild(document.getElementById("name"));
        //container.appendChild(document.getElementById("description"));
        const content = `
<p>this is a paraghraph ${data[key].name}</p>
`
        const mainCardContainer = document.getElementById('main-card-container');

        // Get the paragraph element by ID

        const innerContent = `
<div id="card-container" class="card" style="width: 180px; height: 300px; background-color: beige;">
  <div class="card-content">
    <p>${data[key].name}</p>
    <img src="${data[key].productImage}" />
  </div>
  <div>
    <p>${data[key].price}</p>
    <p></p>
  </div>
  `
        mainCardContainer.innerHTML += innerContent;

        //container.innerHTML += content;
      }



      /* for (let key in data) {
      if (data.hasOwnProperty(key)) {
      // Create a new paragraph element
      const paragraph = document.createElement('p');
    
      // Set the text content to the attribute name and value
      paragraph.textContent = `${key}: ${JSON.stringify(data[key],null,2)}`;
    
      // Append the paragraph to the container
      container.appendChild(paragraph);
      }
      } */
    })
    .catch(error => {
      console.log('Error:', error);
    });

  let isMouseDown = false;
  let startX;
  let scrollLeft;

  const cardContainer = document.querySelector('#main-card-container');

  cardContainer.addEventListener('mousedown', (event) => {
    isMouseDown = true;
    startX = event.pageX - cardContainer.offsetLeft;
    scrollLeft = cardContainer.scrollLeft;
  });

  cardContainer.addEventListener('mouseleave', () => {
    isMouseDown = false;
  });

  cardContainer.addEventListener('mouseup', () => {
    isMouseDown = false;
  });

  cardContainer.addEventListener('mousemove', (event) => {
    if (!isMouseDown) return;
    event.preventDefault();
    const x = event.pageX - cardContainer.offsetLeft;
    const walk = (x - startX) * 1.5;
    cardContainer.scrollLeft = scrollLeft - walk;
  });
  /* fetch('./data/products.json')
  .then(response => response.json())
  .then(data => {
  // Display the JSON data in the UI
  const jsonOutput = document.getElementById('json-output');
  jsonOutput.textContent = JSON.stringify(data, null, 2);
  })
  .catch(error => {
  console.log('Error:', error);
  }); */



  let slideIndex = 0;
  showSlides();

  function showSlides() {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    for (i = 0; i < slides.length; i++) { slides[i].style.display = "none"; } slideIndex++; if (slideIndex > slides.length) { slideIndex = 1 }
    slides[slideIndex - 1].style.display = "block";
    setTimeout(showSlides, 2000); // Change image every 2 seconds
  }
  fetch('./footer.html')
    .then(response => response.text())
    .then(data => {
      // Insert the navigation code into the placeholder div
      document.getElementById('footer-placeholder').innerHTML = data;
    });

    function onClickProduct(){

    }




  var eachCard =  document.getElementById('main-card-container');
   eachCard.addEventListener('click', function() {
  //console.log('Div clicked!');


  var clickedElement = event.target;
    const card = clickedElement.closest('#card-container');
    const productName = card.querySelector('p').textContent;
    console.log(productName);
  var url = 'productDetails.html?name='+ encodeURIComponent(productName);
  window.location.href = url;


  var title = clickedElement.querySelector('p').innerText;
  //console.log(title);

  var cards = document.querySelectorAll("#main-card-container");
for (var i=0; i<cards.length; i++) {
  cards[i].addEventListener('click', function(e) {
 
    //console.log("clickable card!")
    //console.log(i);
  }, false);
}

}); 

</script>


</body>

</html>